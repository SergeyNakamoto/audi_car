<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <title>Dashboard | By Code Info</title>
    <link rel="stylesheet" href="css/admin.css" />
    <!-- Font Awesome Cdn Link -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" />
</head>

<body>
    <div class="container">
        <nav style="padding-right: 10px;">
            <ul>
                <li><a href="#" class="logo">
                        <img src="" alt="">
                        <span class="nav-item">DashBoard</span>
                    </a></li>
                <li><a href="adminDashboard.html">
                        <i class="fas fa-home"></i>
                        <span class="nav-item">Trang chủ</span>
                    </a></li>
                <li><a href="customerManager.html">
                        <i class="fas fa-user"></i>
                        <span class="nav-item">Quản lí khách hàng</span>
                    </a></li>
                <li><a href="sellingAnalyst.html">
                        <i class="fas fa-chart-bar"></i>
                        <span class="nav-item">Phân tích</span>
                    </a></li>
                <li><a href="">
                        <i class="fas fa-tasks"></i>
                        <span class="nav-item">Mục tiêu trong quý</span>
                    </a></li>
                <li><a href="">
                        <i class="fas fa-cog"></i>
                        <span class="nav-item">Cài đặt</span>
                    </a></li>
                <li><a href="">
                        <i class="fas fa-question-circle"></i>
                        <span class="nav-item">Hỗ trợ</span>
                    </a></li>
                <li><a href="adminLogin.html" class="logout">
                        <i class="fas fa-sign-out-alt"></i>
                        <span class="nav-item">Thoát</span>
                    </a></li>
            </ul>
        </nav>

        <section class="main">
            <div class="main-top">
                <h1>Các dòng xe bán chạy</h1>
                <i class="fas fa-user-cog"></i>
            </div>
            <div class="main-skills">
                <div class="card">
                    <i class="fa-solid fa-car fa-beat-fade"></i>
                    <h3>RS e-tron GT</h3>
                    <p>3 mẫu xe</p>
                    <button>Get Started</button>
                </div>
                <div class="card">
                    <i class="fa-solid fa-car fa-beat-fade"></i>
                    <h3>A4 sedan</h3>
                    <p>2 mẫu xe</p>
                    <button>Get Started</button>
                </div>
                <div class="card">
                    <i class="fa-solid fa-car fa-beat-fade"></i>
                    <h3>Q2 SUV</h3>
                    <p>5 mẫu xe</p>
                    <button>Get Started</button>
                </div>
                <div class="card">
                    <i class="fa-solid fa-car fa-beat-fade"></i>
                    <h3>Q5 sportback</h3>
                    <p>3 mẫu xe</p>
                    <button>Get Started</button>
                </div>
            </div>

            <section class="main-course">
                <h1>Tổng quan sản phẩm</h1>
                <div class="course-box">
                    <ul>
                        <li><a href="#">Thống kê xe tồn kho</a></li>
                        <li><a href="adminCarUpdate.html">Cập nhật dòng xe mới</a></li>
                        <li><a class="active" href="adminFixProduct.html">Cập nhật thông tin sản phẩm</a></li>
                    </ul>
                    <div id="course">
                        <form id="updateForm">
                            <label for="id">ID:</label>
                            <input type="number" id="id" name="id" required><br><br>

                            <label for="image">Image:</label>
                            <input type="text" id="image" name="image" required><br><br>

                            <label for="model">Model:</label>
                            <input type="text" id="model" name="model" required><br><br>

                            <label for="price">Price:</label>
                            <input type="text" id="price" name="price" required><br><br>

                            <label for="engine">Engine:</label>
                            <input type="text" id="engine" name="engine" required><br><br>

                            <label for="quantity">Quantity:</label>
                            <input type="number" id="quantity" name="quantity" required><br><br>

                            <input id="updateBtn" type="button" value="Cập nhật" onclick="submitUpdate()">
                        </form>
                    </div>
                </div>
            </section>
        </section>
    </div>
    <script src="https://unpkg.com/axios@1.1.2/dist/axios.min.js"></script>
    <script>
        function submitUpdate() {
    
            const id = document.getElementById("id").value;
            const image = document.getElementById("image").value;
            const model = document.getElementById("model").value;
            const price = document.getElementById("price").value;
            const engine = document.getElementById("engine").value;
            const quantity = parseInt(document.getElementById("quantity").value);
            const carData = {
                id: id,
                image: image,
                model: model,
                price: price,
                engine: engine,
                quantity: quantity
            };
            
            fetch('http://localhost:3000/audi_cars/' + id, {
                method: 'PUT',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(carData)
            })
                .then(response => {
                    if (response.ok) {
                        console.log(response.data);
                        alert("Car data updated successfully!");
                    } else {
                        throw new Error("An error occurred while updating car data.");
                    }
                })
                .catch(error => {
                    console.error(error);
                    alert("An error occurred while updating car data.");
             
                });
        }              
    </script>
</body>

</html>